<div class="main-content">

    <div class="modal fade bd-example-modal-sm" tabindex="-1" role="dialog" aria-labelledby="myModal" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
            ...
            </div>
        </div>
    </div>

    <div class="container-fluid">
        <div class="row">
            <div class="col-md-10 col-md-offset-1">

                <div class="form-group row">

                    <div class="col-2">
                        <label for="reportdate">วันที่</label>
                        <select class="form-control form-select" [(ngModel)]="dd">
                            <option *ngFor="let dd of dds" [ngValue]="dd">{{dd}}</option>
                        </select>
                    </div>

                    <div class="col-2">
                        <label for="reportdate">เดือน</label>
                        <select class="form-control form-select" [(ngModel)]="mm">
                            <option *ngFor="let mm of mms" [ngValue]="mm.Value">{{mm.Name}}</option>
                        </select>
                    </div>

                    <div class="col-2">
                        <label for="reportdate">ปี (พ.ศ.)</label>
                        <select class="form-control form-select" [(ngModel)]="yyyy">
                            <option *ngFor="let yyyy of yyyys" [ngValue]="yyyy">{{yyyy}}</option>
                        </select>
                    </div>
<!--
                    <div class="col-2">
                        <label for="code">รหัสนักเรียน</label>
                        <input type="text" id="code" class="form-control" [(ngModel)]="code">
                    </div>
-->
                    <div class="col-3">
                        <label for="grade">ชั้นเรียน</label>
                        <select class="form-control form-select" [(ngModel)]="grade" (change)="searchRoom()">
                            <option *ngFor="let grade of grades" [ngValue]="grade">{{grade.Name}}</option>
                        </select>
                    </div>

                    <div class="col-2">
                        <label for="room">ห้องเรียน</label>
                        <select class="form-control form-select" [(ngModel)]="room">
                            <option value="0">N/A</option>
                            <option *ngFor="let room of rooms" [ngValue]="room">{{room.Name}}</option>
                        </select>
                    </div>

                </div>

                <button class="btn btn-default"  (click)="search()">ค้นหา</button>

                <hr>

                <div class="row mb-4" *ngFor="let report of reports">

                    <div class="col-1">
                        <img [src]="_sanitizer.bypassSecurityTrustResourceUrl('data:image/jpeg;base64,' + this.getpic(report.ImgB64))" alt="" style="width: 90%;"> 
                    </div>

                    <div class="col">
                        <div class="row my-2">
                            <div class="col-3">
                                <select id="{{report.Code}}" class="form-control form-select">
                                    <option *ngFor="let opt of behaviors" [ngValue]="opt.Value" [selected]="opt.Value == report.Behavior_ref">{{opt.Name}}</option>
                                </select>
                            </div>
                        </div>
                
                        <div class="row my-2">
                            <div class="col">
                                <span >ชื่อ-นามสกุล: {{report.FullName}}</span>
                            </div>
                        </div>

                        <div class="row my-2">
                            <div class="col">
                                <span >รหัส: {{report.Code}} {{report.Behavior_ref}}</span>
                            </div>
                        </div>

                        <div class="row my-2">
                            <div class="col">
                                <button class="btn btn-primary" (click)="save(report.Created, report.Code)">บันทึก</button>
                            </div>
                        </div>

                    </div>

                </div>

            </div>
        </div>
    </div>
</div>