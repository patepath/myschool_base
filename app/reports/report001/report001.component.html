<div class="main-content">

    <div *ngIf="edited; else viewblock">
        <app-report001-frm (edited)="handleEdit($event)" [report]="report"></app-report001-frm>
    </div>

    <ng-template #viewblock>

        <div class="container-fluid">

            <div class="form-group row">

                <div class="col-2">
                    <label for="grade">ระดับชั้น</label>
                    <select id="grade" class="form-control form-select" [(ngModel)]="grade" (change)="searchRoom()">
                        <option *ngFor="let grade of grades" [ngValue]="grade">{{grade.Name}}</option>
                    </select>
                </div>

                <div class="col-1">
                    <label for="room">ห้อง</label>
                    <select id="room" class="form-control form-select" [(ngModel)]="room" (change)="search()">
                        <option *ngFor="let room of rooms" [ngValue]="room">{{room.Name}}</option>
                    </select>
                </div>

            </div>

            <button class="btn btn-default mr-2">Excel</button>
            <button class="btn btn-default">PDF</button>

        </div> 

        <table class="table table-hover">

            <caption>List of Report</caption>

            <thead>
                <tr>
                    <th scope="col" style="width: 10em; text-align: center;">รหัสนักเรียน</th>
                    <th scope="col" style="width: 10em; text-align: center;">คำนำหน้าชื่อ</th>
                    <th scope="col" style="width: 30em">ชื่อ-นามสกุล</th>
                    <th scope="col" style="width: 15em; text-align: center;">ชั้น/ห้อง</th>
                    <th scope="col" style="width: 15em; text-align: center;">คะแนนความประพฤติ</th>
                    <th scope="col">&nbsp;</th>
                </tr>
            </thead>

            <tbody>
                <tr *ngFor="let report of reports" style="cursor: pointer;" (click)="clickrow(report)">
                    <td style="text-align: center;">{{report.Code}}</td>
                    <td style="text-align: center;">{{report.Title}}</td>
                    <td>{{report.FullName}}</td>
                    <td style="text-align: center;">{{report.Grade + "/" + report.Room}}</td>
                    <td style="text-align: center;">{{report.Point}}</td>
                    <td>&nbsp;</td>
                </tr>

            </tbody>

        </table>
        
    </ng-template>

</div>